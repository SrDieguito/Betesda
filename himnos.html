<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">Música Cristiana - Iglesia Bautista Fundamental Betesda</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-white">

<!-- ================= HEADER ================= -->
<header class="bg-black py-4 px-6 fixed w-full z-50">
    <nav class="flex items-center justify-between max-w-7xl mx-auto">
        <div class="flex items-center">
            <img src="img/1.png" alt="Logo Iglesia" class="h-24 w-24 rounded-full">
            <span class="text-[#BF9B30] ml-3 text-xl font-semibold">IBFB</span>
        </div>

        <div class="hidden md:flex space-x-8">
            <a href="index.html#home" class="text-white hover:text-[#BF9B30]" data-i18n="nav-home">Inicio</a>
            <a href="index.html#recursos" class="text-white hover:text-[#BF9B30]" data-i18n="nav-resources">Recursos</a>
            <a href="index.html#services" class="text-white hover:text-[#BF9B30]" data-i18n="nav-services">Servicios</a>
            <a href="index.html#sermones" class="text-white hover:text-[#BF9B30]" data-i18n="nav-sermons">Sermones</a>
            <a href="index.html#eventos" class="text-white hover:text-[#BF9B30]" data-i18n="nav-events">Eventos</a>
            <a href="index.html#contact" class="text-white hover:text-[#BF9B30]" data-i18n="nav-contact">Contacto</a>
        </div>

        <button id="lang-toggle" class="text-white border border-[#BF9B30] px-4 py-2 rounded hover:bg-[#BF9B30]">
            ES/EN
        </button>
    </nav>
</header>

<!-- ================= MAIN ================= -->
<section class="pt-32 pb-12 px-6 bg-gray-100">
    <div class="max-w-7xl mx-auto">

        <h1 class="text-4xl font-bold text-center mb-8 text-black" data-i18n="music-title">
            Música Cristiana
        </h1>

        <div class="mb-8 flex flex-col md:flex-row gap-4 justify-between items-center">
            <input id="search-input"
                   type="text"
                   placeholder="Buscar por nombre..."
                   class="w-full md:w-1/2 p-3 border border-gray-300 rounded focus:outline-none focus:border-[#BF9B30]">

            <select id="sort-select"
                    class="w-full md:w-1/4 p-3 border border-gray-300 rounded focus:outline-none focus:border-[#BF9B30]">
                <option value="desc">Más reciente primero</option>
                <option value="asc">Más antiguo primero</option>
            </select>
        </div>

        <div id="resource-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Música desde Google Drive -->
        </div>

    </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="bg-black text-white py-12 px-6">
    <div class="max-w-7xl mx-auto grid md:grid-cols-3 gap-8">

        <div>
            <h3 class="text-[#BF9B30] text-xl font-semibold mb-4">Ubicación</h3>
            <p>Cuenca, Ecuador</p>
        </div>

        <div>
            <h3 class="text-[#BF9B30] text-xl font-semibold mb-4">Contacto</h3>
            <p>Correo: contact@ibfb.org</p>
            <p>Teléfono: +593 123 456 789</p>
        </div>

        <div>
            <h3 class="text-[#BF9B30] text-xl font-semibold mb-4">Síguenos</h3>
            <div class="flex space-x-4">
                <a href="#" class="hover:text-[#BF9B30]">Facebook</a>
                <a href="#" class="hover:text-[#BF9B30]">YouTube</a>
                <a href="#" class="hover:text-[#BF9B30]">Instagram</a>
            </div>
        </div>

    </div>

    <div class="mt-8 text-center text-gray-400">
        © 2025 Iglesia Bautista Fundamental Betesda. Todos los derechos reservados.
    </div>
</footer>

<!-- ================= SCRIPT ================= -->
<script>

const USUARIO = "SrDieguito";
const REPO = "ibfb-himnos";
const CARPETA = "musica";

const BASE = `https://cdn.jsdelivr.net/gh/${USUARIO}/${REPO}/${CARPETA}/`;
const grid = document.getElementById("resource-grid");

fetch(`https://api.github.com/repos/${USUARIO}/${REPO}/contents/${CARPETA}`)
  .then(res => res.json())
  .then(files => {

    files
      .filter(f => f.name.endsWith(".mp3"))
      .sort((a,b) => a.name.localeCompare(b.name))
      .forEach(file => {

        const nombre = file.name
          .replace(".mp3","")
          .replace(/^\d+-?/,"")
          .replace(/-/g," ");

        const url = BASE + file.name;

        const card = document.createElement("div");
        card.className = "bg-white rounded-lg shadow-lg p-6";

        card.innerHTML = `
          <h3 class="text-xl font-semibold mb-2">${nombre}</h3>

          <audio controls preload="metadata" class="w-full mb-4">
            <source src="${url}" type="audio/mpeg">
          </audio>

          <a href="${url}" download
             class="inline-block bg-[#BF9B30] text-white px-4 py-2 rounded hover:bg-black">
             Descargar MP3
          </a>
        `;

        grid.appendChild(card);
      });
  })
  .catch(err => {
    console.error("Error cargando himnos:", err);
  });
</script>


</body>
</html>
